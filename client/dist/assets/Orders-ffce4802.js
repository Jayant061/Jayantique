import{r as l,E as y,j as r,b as s,c as f}from"./index-d73aedfc.js";import{a as D}from"./axios-707ed124.js";const N=a=>{console.log(a);const c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],d=new Date(a).getDate(),i=c[new Date(a).getMonth()],o=new Date(a).getFullYear();return`${i} ${d}, ${o}`};function O(){const[a,c]=l.useState([]),[d,i]=l.useState(!1),o=localStorage.getItem(y);l.useEffect(()=>{i(!0),(async()=>{const n=await D.get(`${f}/auth/orders/getOrders?token=${o}`);n!=null&&n.data[0].product&&c(n==null?void 0:n.data),i(!1)})()},[]),l.useEffect(()=>{console.log(a)},[a]);const m=t=>{t.preventDefault()};return a==null||a.map((t,n)=>{const g=t==null?void 0:t.orderItems.map((e,v)=>{var h;return r("div",{className:"order-product",children:[s("div",{className:"product-image",children:s("img",{src:(h=e==null?void 0:e.product)==null?void 0:h.images,alt:""})}),r("div",{className:"product-info",children:[s("h4",{children:e==null?void 0:e.product.title}),r("p",{children:["category:",e==null?void 0:e.product.category]}),r("p",{children:["quantity:",e==null?void 0:e.quantity]})]}),s("div",{className:"product-reviews",children:s("span",{children:"Rate & Review this Product"})})]},v)}),u=new Date().toISOString();return r("div",{className:"order",children:[s("div",{className:"order-delivery-status",children:r("h4",{children:[u>t.deliveyDate?"Order was delivered on ":"Order will be delivered by ",N(t.deliveryDate)]})}),s("div",{className:"order-products",children:g})]},n)}),r("div",{className:"orders",children:[r("form",{action:"",className:"searchinput",onSubmit:m,children:[s("input",{type:"text",placeholder:"Search your orders here"}),s("button",{children:"Search"})]}),s("div",{className:"all-orders"})]})}export{O as default};
