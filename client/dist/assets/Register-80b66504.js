import{r as n,U as b,u as C,a as N,b as e,j as r,d as x,c as S,o as P,i as q}from"./index-d73aedfc.js";import{a as I}from"./axios-707ed124.js";import{h as F,s as k}from"./hide-3dc6c778.js";import{l as D}from"./loading-loop-4f5d220b.js";function M(){const{userDispatch:g}=n.useContext(b),[s,f]=n.useState({name:"",gender:"",email:"",password:"",phone:""}),[d,o]=n.useState(null),[v,c]=n.useState(!1),[m,w]=n.useState(!1);n.useEffect(()=>{document.title="Jayantique | register"},[]);function t(a){f(l=>({...l,[a.target.name]:a.target.value})),d&&o(null)}const p=C(),h=N();async function y(a){var l;a.preventDefault(),o(null),s.phone.length!==10&&o("Please enter a vaild phone number");try{c(!0);const i=await I.post(`${S}/register`,s);localStorage.setItem("accessToken",i.data);const u=P(i.data);g({type:q,payload:u==null?void 0:u.resData}),c(!1),(l=h.state)!=null&&l.from?p(h.state.from):p("/")}catch(i){c(!1),o(i.response.data)}}return e("div",{className:"register auth",children:r("div",{className:"registerWrapper authWrapper",children:[e("span",{className:"authHeader",children:"Test"}),r("form",{onSubmit:y,children:[e("input",{type:"text",name:"name",placeholder:"Name*",onChange:t,required:!0}),r("div",{className:"genderInput",children:[e("span",{children:"Gender : "}),r("div",{id:"registrationPartition",className:"inputsPartition",children:[r("div",{className:"radioInput",children:[e("input",{type:"radio",id:"male",name:"gender",value:"Male",checked:s.gender==="Male",onChange:t,required:!0}),e("label",{htmlFor:"male",children:"Male"})]}),r("div",{className:"radioInput",children:[e("input",{type:"radio",id:"female",name:"gender",value:"Female",checked:s.gender==="Female",onChange:t,required:!0}),e("label",{htmlFor:"female",children:"Female"})]})]})]}),e("input",{type:"email",name:"email",placeholder:"Email*",onChange:t,required:!0}),r("div",{className:"password",children:[e("input",{type:m?"text":"password",name:"password",value:s.password,placeholder:"password*",onChange:t,required:!0}),e("img",{src:m?F:k,alt:"eye",onClick:()=>{w(a=>!a)}})]}),e("input",{type:"number",name:"phone",placeholder:"Phone*",onChange:t,onWheel:a=>a.target.blur(),required:!0}),e("button",{children:v?e("img",{src:D,alt:"loading loop"}):"Sign up"})]}),d&&e("span",{style:{color:"red"},children:d}),r("span",{children:["Already have an Account? ",e(x,{to:"/login",children:" Login"})]})]})})}export{M as default};
