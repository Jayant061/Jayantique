import{r as d,P as N,u as v,j as a,b as e,L as y,F as o,c as L}from"./index-d73aedfc.js";import{a as T}from"./axios-707ed124.js";import"./Home-5ddb2563.js";import{L as x}from"./LazyImage-c51bc01a.js";function j(){var m,h;const[p,i]=d.useState(!0),[l,g]=d.useState(""),{state:c,dispatch:f}=d.useContext(N),P=v();d.useEffect(()=>{const s=async()=>{try{const t=await T.get(`${L}/products?trendingProduct=true`);t.status===200&&f({type:"trendingProducts",payload:t.data}),i(!1)}catch(t){g(t.message);const n=setTimeout(()=>{s(),clearTimeout(n)},2e3);i(!1)}},r=setTimeout(()=>{var t;!((t=c.trendingProduct)!=null&&t.length)&&s()},1e3);return()=>{clearTimeout(r)}},[]),d.useEffect(()=>{var s;(s=c.trendingProducts)!=null&&s.length&&(g(""),i(!1))},[c]);const u=((m=c.trendingProducts)==null?void 0:m.length)&&((h=c.trendingProducts)==null?void 0:h.map((s,r)=>{const t=s.map(n=>a("div",{className:"trendingProduct",children:[e(x,{src:n.images[0],alt:"product image",id:n.id}),a("div",{className:"texts",style:r===0?{paddingLeft:"5px"}:{},children:[e("h4",{onClick:()=>{P(`/product/${n._id}`)},children:n.title}),a("p",{children:["â‚¹ ",n.price]})]})]},n.id));return a("div",{className:"trending",children:[a("div",{className:"trendigSubHeading",children:[r===0&&e("h3",{children:"Men"}),r===1&&e("h3",{children:"Women"}),r===2&&e("h3",{children:"Home Decor"})]}),e("div",{className:"trendingProducts",style:r===0?{backgroundColor:"#e3e3e377"}:{},children:t})]},r)}));return a("div",{className:"trendingPage",children:[e("div",{className:"trendingHeading",children:e("span",{children:"TRENDING"})}),p?e(y,{}):e(o,{}),l?e("span",{style:{textAlign:"center",color:"red"},children:l}):e(o,{}),u.length?u:e(o,{})]})}export{j as default};
